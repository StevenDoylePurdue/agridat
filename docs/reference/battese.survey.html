<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Survey and satellite data for corn and soy areas in Iowa — battese.survey • agridat</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Survey and satellite data for corn and soy areas in Iowa — battese.survey" />
<meta property="og:description" content="Survey and satellite data for corn and soy areas in Iowa" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">agridat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/agridat_data.html">Additional sources of agricultural data</a>
    </li>
    <li>
      <a href="../articles/agridat_examples.html">Graphical Gems in the agridat Package</a>
    </li>
    <li>
      <a href="../articles/agridat_intro.html">Introduction to `agridat`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kwstat/agridat/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Survey and satellite data for corn and soy areas in Iowa</h1>
    
    <div class="hidden name"><code>battese.survey.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Survey and satellite data for corn and soy areas in Iowa</p>
    </div>

    <pre class="usage"><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"battese.survey"</span><span class='op'>)</span></pre>


    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>A data frame with 37 observations on the following 9 variables.</p><dl>
    <dt><code>county</code></dt><dd><p>county name</p></dd>
    <dt><code>segment</code></dt><dd><p>sample segment number (within county)</p></dd>
    <dt><code>countysegs</code></dt><dd><p>number of segments in county</p></dd>
    <dt><code>cornhect</code></dt><dd><p>hectares of corn in segment</p></dd>
    <dt><code>soyhect</code></dt><dd><p>hectares of soy</p></dd>
    <dt><code>cornpix</code></dt><dd><p>pixels of corn in segment</p></dd>
    <dt><code>soypix</code></dt><dd><p>pixels of soy</p></dd>
    <dt><code>cornmean</code></dt><dd><p>county mean of corn pixels per segment</p></dd>
    <dt><code>soymean</code></dt><dd><p>county mean of soy pixels per segment</p></dd>
  
</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The data are for 12 counties in north-central Iowa in 1978.</p>
<p>The USDA determined the area of soybeans in 37 area sampling units
  (called 'segments').  Each segment is about one square mile (about 259
  hectares).  The number of pixels of that were classified as corn and
  soybeans came from Landsat images obtained in Aug/Sep 1978. Each pixel
  represents approximately 0.45 hectares.</p>
<p>Data originally compiled by USDA.</p>  
<p>This data is also available in R packages: 'rsae::landsat' and 'JoSAE::landsat'.</p>
    <h2 class="hasAnchor" id="source"><a class="anchor" href="#source"></a>Source</h2>

    <p>Battese, George E and Harter, Rachel M and Fuller, Wayne A. (1988).
  An error-components model for prediction of county crop areas using
  survey and satellite data.
  emphJournal of the American Statistical Association, 83, 28-36.
  https://doi.org/10.2307/2288915</p>
<p>Battese (1982) preprint version.
  https://www.une.edu.au/__data/assets/pdf_file/0017/15542/emetwp15.pdf</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Pushpal K Mukhopadhyay and Allen McDowell. (2011).
  Small Area Estimation for Survey Data Analysis Using SAS Software
  SAS Global Forum 2011.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \dontrun{</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://kwstat.github.io/agridat/'>agridat</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>battese.survey</span><span class='op'>)</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>battese.survey</span>

<span class='co'># Battese fig 1 &amp; 2.  Corn plot shows outlier in Hardin county</span>
<span class='fu'><a href='libs.html'>libs</a></span><span class='op'>(</span><span class='va'>lattice</span><span class='op'>)</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>dat</span><span class='op'>$</span><span class='va'>cornpix</span><span class='op'>)</span>,<span class='op'>]</span>
<span class='fu'>xyplot</span><span class='op'>(</span><span class='va'>cornhect</span> <span class='op'>~</span> <span class='va'>cornpix</span>, data<span class='op'>=</span><span class='va'>dat</span>, group<span class='op'>=</span><span class='va'>county</span>, type<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'p'</span>,<span class='st'>'l'</span><span class='op'>)</span>,
       main<span class='op'>=</span><span class='st'>"battese.survey"</span>, xlab<span class='op'>=</span><span class='st'>"Pixels of corn"</span>, ylab<span class='op'>=</span><span class='st'>"Hectares of corn"</span>,
       auto.key<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>columns<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='battese.survey-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>dat</span><span class='op'>$</span><span class='va'>soypix</span><span class='op'>)</span>,<span class='op'>]</span>
<span class='fu'>xyplot</span><span class='op'>(</span><span class='va'>soyhect</span> <span class='op'>~</span> <span class='va'>soypix</span>, data<span class='op'>=</span><span class='va'>dat</span>, group<span class='op'>=</span><span class='va'>county</span>, type<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'p'</span>,<span class='st'>'l'</span><span class='op'>)</span>,
       main<span class='op'>=</span><span class='st'>"battese.survey"</span>, xlab<span class='op'>=</span><span class='st'>"Pixels of soy"</span>, ylab<span class='op'>=</span><span class='st'>"Hectares of soy"</span>,
       auto.key<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>columns<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='battese.survey-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'><a href='libs.html'>libs</a></span><span class='op'>(</span><span class='va'>lme4</span>, <span class='va'>lucid</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required package: Matrix</span></div><div class='output co'>#&gt; <span class='message'>Registered S3 methods overwritten by 'lme4':</span>
#&gt; <span class='message'>  method                          from</span>
#&gt; <span class='message'>  cooks.distance.influence.merMod car </span>
#&gt; <span class='message'>  influence.merMod                car </span>
#&gt; <span class='message'>  dfbeta.influence.merMod         car </span>
#&gt; <span class='message'>  dfbetas.influence.merMod        car </span></div><div class='input'>  
<span class='co'># Fit the models of Battese 1982, p.18.  Results match</span>
<span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'>lmer</span><span class='op'>(</span><span class='va'>cornhect</span> <span class='op'>~</span> <span class='fl'>1</span> <span class='op'>+</span> <span class='va'>cornpix</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>county</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='fu'>fixef</span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; (Intercept)     cornpix 
#&gt;   5.4661899   0.3878358 </div><div class='input'><span class='co'>## (Intercept)     cornpix </span>
<span class='co'>##   5.4661899   0.3878358 </span>
<span class='fu'>vc</span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;       grp        var1 var2   vcov  sdcor
#&gt;    county (Intercept) &lt;NA&gt;  62.83  7.926
#&gt;  Residual        &lt;NA&gt; &lt;NA&gt; 290.4  17.04 </div><div class='input'><span class='co'>##      grp        var1 var2   vcov  sdcor</span>
<span class='co'>##   county (Intercept) &lt;NA&gt;  62.83  7.926</span>
<span class='co'>## Residual        &lt;NA&gt; &lt;NA&gt; 290.4  17.04 </span>
<span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'>lmer</span><span class='op'>(</span><span class='va'>soyhect</span> <span class='op'>~</span> <span class='fl'>1</span> <span class='op'>+</span> <span class='va'>soypix</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>county</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat</span><span class='op'>)</span>
<span class='fu'>fixef</span><span class='op'>(</span><span class='va'>m2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; (Intercept)      soypix 
#&gt;  -3.8223566   0.4756781 </div><div class='input'><span class='co'>## (Intercept)      soypix </span>
<span class='co'>##  -3.8223566   0.4756781 </span>
<span class='fu'>vc</span><span class='op'>(</span><span class='va'>m2</span><span class='op'>)</span>
</div><div class='output co'>#&gt;       grp        var1 var2  vcov sdcor
#&gt;    county (Intercept) &lt;NA&gt; 239.2 15.47
#&gt;  Residual        &lt;NA&gt; &lt;NA&gt; 180   13.42</div><div class='input'><span class='co'>##      grp        var1 var2  vcov sdcor</span>
<span class='co'>##   county (Intercept) &lt;NA&gt; 239.2 15.47</span>
<span class='co'>## Residual        &lt;NA&gt; &lt;NA&gt; 180   13.42</span>
  
<span class='co'># Predict for Humboldt county as in Battese 1982 table 2</span>
<span class='fl'>5.4662</span><span class='op'>+</span><span class='fl'>.3878</span><span class='op'>*</span><span class='fl'>290.74</span>
</div><div class='output co'>#&gt; [1] 118.2152</div><div class='input'><span class='co'># 118.2152 # mu_i^0</span>
<span class='fl'>5.4662</span><span class='op'>+</span><span class='fl'>.3878</span><span class='op'>*</span><span class='fl'>290.74</span><span class='op'>+</span> <span class='op'>-</span><span class='fl'>2.8744</span>
</div><div class='output co'>#&gt; [1] 115.3408</div><div class='input'><span class='co'># 115.3408 # mu_i^gamma</span>
<span class='op'>(</span><span class='fl'>185.35</span><span class='op'>+</span><span class='fl'>116.43</span><span class='op'>)</span><span class='op'>/</span><span class='fl'>2</span>
</div><div class='output co'>#&gt; [1] 150.89</div><div class='input'><span class='co'># 150.89 # y_i bar</span>
  
<span class='co'># Survey regression estimator of Battese 1988</span>
  
<span class='co'># Delete the outlier</span>
<span class='va'>dat2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>dat</span>, <span class='op'>!</span><span class='op'>(</span><span class='va'>county</span><span class='op'>==</span><span class='st'>"Hardin"</span> <span class='op'>&amp;</span> <span class='va'>soyhect</span> <span class='op'>&lt;</span> <span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='co'># Results match top-right of Battese 1988, p. 33</span>
<span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'>lmer</span><span class='op'>(</span><span class='va'>cornhect</span> <span class='op'>~</span> <span class='va'>cornpix</span> <span class='op'>+</span> <span class='va'>soypix</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>county</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat2</span><span class='op'>)</span>
<span class='fu'>fixef</span><span class='op'>(</span><span class='va'>m3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; (Intercept)     cornpix      soypix 
#&gt;  51.0703979   0.3287217  -0.1345684 </div><div class='input'><span class='co'>## (Intercept)     cornpix      soypix </span>
<span class='co'>##  51.0703979   0.3287217  -0.1345684 </span>
<span class='fu'>vc</span><span class='op'>(</span><span class='va'>m3</span><span class='op'>)</span>
</div><div class='output co'>#&gt;       grp        var1 var2  vcov sdcor
#&gt;    county (Intercept) &lt;NA&gt; 140   11.83
#&gt;  Residual        &lt;NA&gt; &lt;NA&gt; 147.3 12.14</div><div class='input'><span class='co'>##      grp        var1 var2  vcov sdcor</span>
<span class='co'>##   county (Intercept) &lt;NA&gt; 140   11.83</span>
<span class='co'>## Residual        &lt;NA&gt; &lt;NA&gt; 147.3 12.14</span>
<span class='va'>m4</span> <span class='op'>&lt;-</span> <span class='fu'>lmer</span><span class='op'>(</span><span class='va'>soyhect</span> <span class='op'>~</span> <span class='va'>cornpix</span> <span class='op'>+</span> <span class='va'>soypix</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>county</span><span class='op'>)</span>, data<span class='op'>=</span><span class='va'>dat2</span><span class='op'>)</span>
<span class='fu'>fixef</span><span class='op'>(</span><span class='va'>m4</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  (Intercept)      cornpix       soypix 
#&gt; -15.59027112   0.02717639   0.49439320 </div><div class='input'><span class='co'>##  (Intercept)      cornpix       soypix </span>
<span class='co'>## -15.59027098   0.02717639   0.49439320 </span>
<span class='fu'>vc</span><span class='op'>(</span><span class='va'>m4</span><span class='op'>)</span>
</div><div class='output co'>#&gt;       grp        var1 var2  vcov sdcor
#&gt;    county (Intercept) &lt;NA&gt; 247.5 15.73
#&gt;  Residual        &lt;NA&gt; &lt;NA&gt; 190.5 13.8 </div><div class='input'><span class='co'>##      grp        var1 var2  vcov sdcor</span>
<span class='co'>##   county (Intercept) &lt;NA&gt; 247.5 15.73</span>
<span class='co'>## Residual        &lt;NA&gt; &lt;NA&gt; 190.5 13.8 </span>

<span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kevin Wright.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


